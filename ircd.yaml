network:
  name: Ewnix
server:
  name: devel.ewnix.net
  listeners:
    ":6667":
      tls:
        cert: /ircd/fullchain.pem
        key: /ircd/privkey.pem
    ":6697":
      tls:
        cert: /ircd/fullchain.pem
        key: /ircd/privkey.pem
    ":8097":
      websocket: true
      tls:
        cert: /ircd/fullchain.pem
        key: /ircd/privkey.pem
  proxy: false
  unix-bind-mode: 0777
  tor-listeners:
    require-sasl: true
    vhost: "tor-network.onion"
    max-connections: 64
    throttle-duration: 10m
    max-connections-per-duration: 64
  sts:
    enabled: true
    duration: 1mo2d5m
    port: 6797
    preload: false
  websockets:
    allowed-origins:
      - "https://devel.ewnix.net"
      - "localhost"
      - "https://chat.cs1.ewnix.net"
  casemapping: "ascii" 
  enforce-utf8: true
  lookup-hostnames: false
  foward-confirm-hostnames: false
  check-ident: false
  coerce-ident: '~u'
  motd: ergo.motd
  motd-formatting: true
  relaymsg:
    enabled: true
    separators: "/"
    available-to-chanops: true
  proxy-allowed-from:
    - localhost
  webirc:
    -
      password: "$2a$04$abcdef0123456789abcdef0123456789abcdef0123456789abcde"
      hosts:
        - localhost
  max-sendq: 96k
  compatibility:
    force-trailing: true
    send-unprefixed-sasl: true
    allow-truncation: true
  ip-limits:
    count: true
    max-concurrent-connections: 3000
    throttle: false
    window: 10m
    max-connections-per-window: 32
    cird-len-ipv4: 32
    cird-len-ipv6: 64
    exempted:
      - "localhost"
    custom-limits:
  ip-check-script: 
    enabled: false
    command: ""
    args: []
    timeout: 9s
    kill-timeout: 1s
    max-concurrency: 64
    exempt-sasl: false
  ip-cloaking:
    enabed: true
    enabled-for-always-on: true
    netname: "ewnix"
    cidr-len-ipv4: 32
    cird-len-ipv6: 64
    num-bits: 64
  secure-nets:
  override-services-hostname: "services.ewnix"
  suppress-lusers: false
accounts:
  authentication-enabled: true
  registration: 
    enabled: false
    allow-before-connect: false
    throttling:
      enabled: false
      duration: 10m
      max-attempts: 30
    bcrypt-cost: 4
    verify-timeout: "32h"
    email-verification:
      enabled: false
      sender: "accounts@ewnix.net"
      require-tls: true
      helo-domain: ewnix.net
      passwqord-reset:
        enabled: false
        cooldown: 1h
        timeout: 1d
  login-throttling:
    enabled: false
    duration: 1m
    max-attempts: 3
  skip-server-password: false
  login-via-pass-command: true
  advertise-scram: true
  require-sasl:
    enabled: true
  nick-reservation:
    enabled: true
    additional-nick-limit: 0
    method: strict
    allow-custom-enforcement: false
    guest-nickname-format: "Guest-*"
    force-guest-format: false
    force-nick-equals-account: true
    forbid-anonymous-nick-changes: true
  multiclient:
    enabled: true
    allowed-by-default: true
    always-on: "mandatory"
    auto-away: "mandatory"
  vhosts:
    enabled: true
    max-length: 64
    valid-regexp: '^[0-9A-Za-z.\-_/]+$'
  default-user-modes: +i
  auth-script:
    enabled: true
    command: "/ircd/ergo-ldap"
    args: [/ircd/ldap-config.yaml]
    autocreate: true
    timeout: 9s
    kill-timeout: 1s
channels:
  default-modes: +nt
  max-channels-per-client: 100
  operator-only-creation: true
  registration:
    enabled: true
    operator-only: true
    max-channels-per-account: 15
  list-delay: 0s
  invite-expiration: 24h
  auto-join:
    - "#Ewnix"
    - "#FeatureRequests"
    - "#Games"
oper-classes:
  "chat-moderator":
    title: Chat Moderator
    capabilities:
      - "kill"
      - "ban"
      - "nofakelag"
      - "relaymsg"
      - "vhosts"
      - "sajoin"
      - "samode"
      - "snomasks"
      - "roleplay"
  "server-admin":
    title: Server Administrator
    extends: "chat-moderator"
    capabilities:
       - "rehash"
       - "accreg"
       - "chanreg"
       - "history"
       - "defcon"
       - "massmessage"
opers:
  phluxeternus:
    class: "server-admin"
    hidden: false
    whois-line: is the Server Administrator
    vhost: "staff.ewnix"
    modes: +is acdjknoqtuxv
    password: "$2a$04$Kh3SAt2mNrdxzSWOrsJR/uXOZBXyx3iTyYnKalz8ItxcP8je7rAIG"
logging:
  -
    method: stderr
    type: "* -userinput -useroutput"
    level: info
debug:
  recover-from-errors: true
lock-file: "ircd.lock"
datastore:
  path: ircd.db
  autoupgrade: true
  mysql:
    enabled: true
    host: "10.43.146.125"
    port: 3306
    user: "ergo"
    password: "VeryGood21!"
    history-database: "ergo_history"
    timeout: 3s
    max-conns: 4
languages:
  enabled: false
  default: en
  path: languages
limits:
  nicklen: 31
  identlen: 20
  channellen: 64
  awaylen: 390
  kicklen: 390
  topiclen: 390
  monitor-entries: 100
  whowas-entries: 100
  chan-list-modes: 60
  registration-messages: 1024
  multiline:
    max-bytes: 4096
    max-lines: 100
fakelag:
  enabled: true
  window: 1s
  burst-limit: 5
  messages-per-window: 2
  cooldown: 2s
  command-budgets:
    "CHATHISTORY": 16
    "MARKREAD": 16
    "MONITOR": 1
    "WHO": 4
roleplay:
  enabled: true
  require-oper: false
  require-chanops: false
  add-suffix: true
extjwt:
history:
  enabled: true
  channel-length: 2048
  client-length: 256
  autoresize-window: 30d
  autoreplay-on-join: 100
  chathistory-maxmessages: 1000
  znc-maxmessages: 2048
  restrictions:
    expire-time: 30d
    query-cutoff: 'none'
    grace-period: 1h
  persistent:
    enabled: true
    unregistered-channels: false
    registered-channels: "mandatory"
    direct-messages: "mandatory"
  retention:
    allow-individual-delete: true
    enable-account-indexing: true
  tagmsg-storage:
    default: true
    whitelist:
      - "+draft/react"
      - "+react"
allow-environment-overrides: true
